/*! For license information please see script.min.js.LICENSE.txt */
(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();var t={type:"scroll",speed:.5,containerClass:"jarallax-container",imgSrc:null,imgElement:".jarallax-img",imgSize:"cover",imgPosition:"50% 50%",imgRepeat:"no-repeat",keepImg:!1,elementInViewport:null,zIndex:-100,disableParallax:!1,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null,videoClass:"jarallax-video",videoSrc:null,videoStartTime:0,videoEndTime:0,videoVolume:0,videoLoop:!0,videoPlayOnlyVisible:!0,videoLazyLoading:!0,disableVideo:!1,onVideoInsert:null,onVideoWorkerInit:null};let i;i="undefined"!=typeof window?window:void 0!==e.g?e.g:"undefined"!=typeof self?self:{};var n=i;const{navigator:o}=n,a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(o.userAgent);let s,r,l;function c(){s=n.innerWidth||document.documentElement.clientWidth,a?(!l&&document.body&&(l=document.createElement("div"),l.style.cssText="position: fixed; top: -9999px; left: 0; height: 100vh; width: 0;",document.body.appendChild(l)),r=(l?l.clientHeight:0)||n.innerHeight||document.documentElement.clientHeight):r=n.innerHeight||document.documentElement.clientHeight}var d;function m(){return{width:s,height:r}}c(),n.addEventListener("resize",c),n.addEventListener("orientationchange",c),n.addEventListener("load",c),d=()=>{c()},"complete"===document.readyState||"interactive"===document.readyState?d():document.addEventListener("DOMContentLoaded",d,{capture:!0,once:!0,passive:!0});const p=[];function g(){if(!p.length)return;const{width:e,height:t}=m();p.forEach(((i,n)=>{const{instance:o,oldData:a}=i;if(!o.isVisible())return;const s=o.$item.getBoundingClientRect(),r={width:s.width,height:s.height,top:s.top,bottom:s.bottom,wndW:e,wndH:t},l=!a||a.wndW!==r.wndW||a.wndH!==r.wndH||a.width!==r.width||a.height!==r.height,c=l||!a||a.top!==r.top||a.bottom!==r.bottom;p[n].oldData=r,l&&o.onResize(),c&&o.onScroll()})),n.requestAnimationFrame(g)}const u=new n.IntersectionObserver((e=>{e.forEach((e=>{e.target.jarallax.isElementInViewport=e.isIntersecting}))}),{rootMargin:"50px"}),{navigator:h}=n;let f=0;class b{constructor(e,i){const n=this;n.instanceID=f,f+=1,n.$item=e,n.defaults={...t};const o=n.$item.dataset||{},a={};if(Object.keys(o).forEach((e=>{const t=e.substr(0,1).toLowerCase()+e.substr(1);t&&void 0!==n.defaults[t]&&(a[t]=o[e])})),n.options=n.extend({},n.defaults,a,i),n.pureOptions=n.extend({},n.options),Object.keys(n.options).forEach((e=>{"true"===n.options[e]?n.options[e]=!0:"false"===n.options[e]&&(n.options[e]=!1)})),n.options.speed=Math.min(2,Math.max(-1,parseFloat(n.options.speed))),"string"==typeof n.options.disableParallax&&(n.options.disableParallax=new RegExp(n.options.disableParallax)),n.options.disableParallax instanceof RegExp){const e=n.options.disableParallax;n.options.disableParallax=()=>e.test(h.userAgent)}if("function"!=typeof n.options.disableParallax&&(n.options.disableParallax=()=>!1),"string"==typeof n.options.disableVideo&&(n.options.disableVideo=new RegExp(n.options.disableVideo)),n.options.disableVideo instanceof RegExp){const e=n.options.disableVideo;n.options.disableVideo=()=>e.test(h.userAgent)}"function"!=typeof n.options.disableVideo&&(n.options.disableVideo=()=>!1);let s=n.options.elementInViewport;s&&"object"==typeof s&&void 0!==s.length&&([s]=s),s instanceof Element||(s=null),n.options.elementInViewport=s,n.image={src:n.options.imgSrc||null,$container:null,useImgTag:!1,position:"fixed"},n.initImg()&&n.canInitParallax()&&n.init()}css(e,t){return function(e,t){return"string"==typeof t?n.getComputedStyle(e).getPropertyValue(t):(Object.keys(t).forEach((i=>{e.style[i]=t[i]})),e)}(e,t)}extend(e,...t){return function(e,...t){return e=e||{},Object.keys(t).forEach((i=>{t[i]&&Object.keys(t[i]).forEach((n=>{e[n]=t[i][n]}))})),e}(e,...t)}getWindowData(){const{width:e,height:t}=m();return{width:e,height:t,y:document.documentElement.scrollTop}}initImg(){const e=this;let t=e.options.imgElement;return t&&"string"==typeof t&&(t=e.$item.querySelector(t)),t instanceof Element||(e.options.imgSrc?(t=new Image,t.src=e.options.imgSrc):t=null),t&&(e.options.keepImg?e.image.$item=t.cloneNode(!0):(e.image.$item=t,e.image.$itemParent=t.parentNode),e.image.useImgTag=!0),!(!e.image.$item&&(null===e.image.src&&(e.image.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e.image.bgImage=e.css(e.$item,"background-image")),!e.image.bgImage||"none"===e.image.bgImage))}canInitParallax(){return!this.options.disableParallax()}init(){const e=this,t={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"};let i={pointerEvents:"none",transformStyle:"preserve-3d",backfaceVisibility:"hidden"};if(!e.options.keepImg){const t=e.$item.getAttribute("style");if(t&&e.$item.setAttribute("data-jarallax-original-styles",t),e.image.useImgTag){const t=e.image.$item.getAttribute("style");t&&e.image.$item.setAttribute("data-jarallax-original-styles",t)}}if("static"===e.css(e.$item,"position")&&e.css(e.$item,{position:"relative"}),"auto"===e.css(e.$item,"z-index")&&e.css(e.$item,{zIndex:0}),e.image.$container=document.createElement("div"),e.css(e.image.$container,t),e.css(e.image.$container,{"z-index":e.options.zIndex}),"fixed"===this.image.position&&e.css(e.image.$container,{"-webkit-clip-path":"polygon(0 0, 100% 0, 100% 100%, 0 100%)","clip-path":"polygon(0 0, 100% 0, 100% 100%, 0 100%)"}),e.image.$container.setAttribute("id",`jarallax-container-${e.instanceID}`),e.options.containerClass&&e.image.$container.setAttribute("class",e.options.containerClass),e.$item.appendChild(e.image.$container),e.image.useImgTag?i=e.extend({"object-fit":e.options.imgSize,"object-position":e.options.imgPosition,"max-width":"none"},t,i):(e.image.$item=document.createElement("div"),e.image.src&&(i=e.extend({"background-position":e.options.imgPosition,"background-size":e.options.imgSize,"background-repeat":e.options.imgRepeat,"background-image":e.image.bgImage||`url("${e.image.src}")`},t,i))),"opacity"!==e.options.type&&"scale"!==e.options.type&&"scale-opacity"!==e.options.type&&1!==e.options.speed||(e.image.position="absolute"),"fixed"===e.image.position){const t=function(e){const t=[];for(;null!==e.parentElement;)1===(e=e.parentElement).nodeType&&t.push(e);return t}(e.$item).filter((e=>{const t=n.getComputedStyle(e),i=t["-webkit-transform"]||t["-moz-transform"]||t.transform;return i&&"none"!==i||/(auto|scroll)/.test(t.overflow+t["overflow-y"]+t["overflow-x"])}));e.image.position=t.length?"absolute":"fixed"}var o;i.position=e.image.position,e.css(e.image.$item,i),e.image.$container.appendChild(e.image.$item),e.onResize(),e.onScroll(!0),e.options.onInit&&e.options.onInit.call(e),"none"!==e.css(e.$item,"background-image")&&e.css(e.$item,{"background-image":"none"}),o=e,p.push({instance:o}),1===p.length&&n.requestAnimationFrame(g),u.observe(o.options.elementInViewport||o.$item)}destroy(){const e=this;var t;t=e,p.forEach(((e,i)=>{e.instance.instanceID===t.instanceID&&p.splice(i,1)})),u.unobserve(t.options.elementInViewport||t.$item);const i=e.$item.getAttribute("data-jarallax-original-styles");if(e.$item.removeAttribute("data-jarallax-original-styles"),i?e.$item.setAttribute("style",i):e.$item.removeAttribute("style"),e.image.useImgTag){const t=e.image.$item.getAttribute("data-jarallax-original-styles");e.image.$item.removeAttribute("data-jarallax-original-styles"),t?e.image.$item.setAttribute("style",i):e.image.$item.removeAttribute("style"),e.image.$itemParent&&e.image.$itemParent.appendChild(e.image.$item)}e.image.$container&&e.image.$container.parentNode.removeChild(e.image.$container),e.options.onDestroy&&e.options.onDestroy.call(e),delete e.$item.jarallax}coverImage(){const e=this,{height:t}=m(),i=e.image.$container.getBoundingClientRect(),n=i.height,{speed:o}=e.options,a="scroll"===e.options.type||"scroll-opacity"===e.options.type;let s=0,r=n,l=0;return a&&(o<0?(s=o*Math.max(n,t),t<n&&(s-=o*(n-t))):s=o*(n+t),o>1?r=Math.abs(s-t):o<0?r=s/o+Math.abs(s):r+=(t-n)*(1-o),s/=2),e.parallaxScrollDistance=s,l=a?(t-r)/2:(n-r)/2,e.css(e.image.$item,{height:`${r}px`,marginTop:`${l}px`,left:"fixed"===e.image.position?`${i.left}px`:"0",width:`${i.width}px`}),e.options.onCoverImage&&e.options.onCoverImage.call(e),{image:{height:r,marginTop:l},container:i}}isVisible(){return this.isElementInViewport||!1}onScroll(e){const t=this;if(!e&&!t.isVisible())return;const{height:i}=m(),n=t.$item.getBoundingClientRect(),o=n.top,a=n.height,s={},r=Math.max(0,o),l=Math.max(0,a+o),c=Math.max(0,-o),d=Math.max(0,o+a-i),p=Math.max(0,a-(o+a-i)),g=Math.max(0,-o+i-a),u=1-(i-o)/(i+a)*2;let h=1;if(a<i?h=1-(c||d)/a:l<=i?h=l/i:p<=i&&(h=p/i),"opacity"!==t.options.type&&"scale-opacity"!==t.options.type&&"scroll-opacity"!==t.options.type||(s.transform="translate3d(0,0,0)",s.opacity=h),"scale"===t.options.type||"scale-opacity"===t.options.type){let e=1;t.options.speed<0?e-=t.options.speed*h:e+=t.options.speed*(1-h),s.transform=`scale(${e}) translate3d(0,0,0)`}if("scroll"===t.options.type||"scroll-opacity"===t.options.type){let e=t.parallaxScrollDistance*u;"absolute"===t.image.position&&(e-=o),s.transform=`translate3d(0,${e}px,0)`}t.css(t.image.$item,s),t.options.onScroll&&t.options.onScroll.call(t,{section:n,beforeTop:r,beforeTopEnd:l,afterTop:c,beforeBottom:d,beforeBottomEnd:p,afterBottom:g,visiblePercent:h,fromViewportCenter:u})}onResize(){this.coverImage()}}const y=function(e,t,...i){("object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName)&&(e=[e]);const n=e.length;let o,a=0;for(;a<n;a+=1)if("object"==typeof t||void 0===t?e[a].jarallax||(e[a].jarallax=new b(e[a],t)):e[a].jarallax&&(o=e[a].jarallax[t].apply(e[a].jarallax,i)),void 0!==o)return o;return e};let v;y.constructor=b,v="undefined"!=typeof window?window:void 0!==e.g?e.g:"undefined"!=typeof self?self:{};const $=y,_=function(e,t){class i{constructor(e,t,i,n,o,a,s,r,...l){this.kind=e,this.img=t,this.altimg=i,this.name=n,this.oldPrice=o,this.discont=a,this.newPrise=(o*(100-this.discont)/100).toFixed(2),this.id=s,this.parent=document.querySelector(r),this.classes=l}render(){const e=document.createElement("div");0==this.classes.length?(this.classes="products__card",e.classList.add(this.classes)):this.classes.forEach((t=>e.classList.add(t))),e.innerHTML=`\n                <div class="products__kind"><span class="products__kind-text">${this.kind}</span></div>\n                <a href="#">\n                    <img class="products__img" src=${this.img} alt=${this.altimg} />\n                    <p class="products__name">${this.name}</p>\n                </a>\n                <div class="line"></div>\n                <div class="products__desc">\n                    <div class="products__price">\n                        <span class="products__old-price">₽ ${this.oldPrice} РУБ</span>\n                        <span class="products__new-price">₽ ${this.newPrise} РУБ</span>\n                        <div class="rating">\n                            <div class="rating__items">\n                                <input id="rating-${this.id}__5" class="rating__item" type="radio" name="rating-${this.id}" value="5" checked />\n                                <label for="rating-${this.id}__5" class="rating__label"></label>\n                                <input id="rating-${this.id}__4" class="rating__item" type="radio" name="rating-${this.id}" value="4" />\n                                <label for="rating-${this.id}__4" class="rating__label"></label>\n                                <input id="rating-${this.id}__3" class="rating__item" type="radio" name="rating-${this.id}" value="3" />\n                                <label for="rating-${this.id}__3" class="rating__label"></label>\n                                <input id="rating-${this.id}__2" class="rating__item" type="radio" name="rating-${this.id}" value="2" />\n                                <label for="rating-${this.id}__2" class="rating__label"></label>\n                                <input id="rating-${this.id}__1" class="rating__item" type="radio" name="rating-${this.id}" value="1" />\n                                <label for="rating-${this.id}__1" class="rating__label"></label>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `,this.parent.append(e)}}(async e=>{const t=await fetch(e);if(!t.ok)throw new Error(`Could not fetch ${e}, status^ ${t.status}`);return await t.json()})("db.json").then((n=>{console.log(n),n.menu.forEach((({kind:n,img:o,altimg:a,name:s,oldPrice:r,discont:l,id:c},d)=>{d<t&&new i(n,o,a,s,r,l,c,e).render()}))}))};window.addEventListener("DOMContentLoaded",(()=>{$(document.querySelector(".header__body"),{speed:.2}),$(document.querySelector(".reviews"),{speed:.2}),_(".products__cards1",6),_(".products__cards2",3),function(){const e=document.querySelectorAll('a[href*="#"]');for(let t of e)t.addEventListener("click",(e=>{e.preventDefault();const i=t.getAttribute("href");document.querySelector(""+i).scrollIntoView({behavior:"smooth",block:"start"})}))}(),function(){const e=document.querySelector(".burger"),t=document.querySelector(".header__nav"),i=document.body,n=document.querySelector(".overlay"),o=document.querySelectorAll(".header__nav-item"),a=document.querySelector(".header__basket"),s=document.querySelector(".header__logo-img-min");function r(){t.classList.remove("header__nav-visible"),n.classList.remove("overlay--show"),e.classList.remove("burger-active"),i.classList.remove("stop-scroll")}setInterval((()=>{let t=window.innerWidth;t>480?(e.style.left=t-60+"px",a.style.left=t-140+"px",s.style.display="none"):(e.style.left=t-60+"px",a.style.left="15px",s.style.display="block",s.style.left=t/2-30+"px")}),0),e.addEventListener("click",(()=>{e.classList.contains("burger-active")?r():(i.classList.add("stop-scroll"),e.classList.add("burger-active"),t.classList.add("header__nav-visible"),n.classList.add("overlay--show"))})),n.addEventListener("click",(e=>{e.target===n&&r()})),o.forEach((e=>{e.addEventListener("click",(()=>{r()}))}))}()}))})();
//# sourceMappingURL=script.min.js.map